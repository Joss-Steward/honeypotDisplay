{% extends "layout.html" %}

{% block content %}

<div class="page-header">
    <h1>
        <span>Every attempt ever</span>
    </h1>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="panel panel-default" id="giant_list">
            <div class="panel-heading">50 Latest Attempts</div>
            <div class="panel-body">
                <input class="search" />
            </div>
            <table class="table">
                <thead>
                    <tr>
                        <th class="sort" data-sort="date">Date</th>
                        <th class="sort" data-sort="ip">Source IP</th>
                        <th class="sort" data-sort="name">Username</th>
                        <th class="sort" data-sort="pass">Password</th>
                    </tr>
                </thead>
                <tbody class="list">
                    {% for line in all_the_events %}
                    <tr>
                        <td class="date">{{ line['datetime'].strftime('%Y-%m-%d %H:%M:%S') }}</td>
                        <td class="ip">{{ line['ip'] }}</td>
                        <td class="name">{{ line['username'] }}</td>
                        <td class="pass">{{ line['password'] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
{{super()}}

<script src="/static/scripts/list.js"></script>
<script type="text/javascript">
$(function () {
    var options = {
        valueNames: ['date', 'ip', 'name', 'pass'],
        page: [2000]
    };

    var userList = new List('giant_list', options);
});
</script>

{% endblock %}
